{% if events %}
  {% macro day_name(num) -%}
    {% if num == 1 
      %}Понедельник{%
    elif num == 2
      %}Вторник{%
    elif num == 3
      %}Среда{%
    elif num == 4
      %}Четверг{%
    elif num == 5
      %}Пятница{%
    elif num == 6
      %}Суббота{%
    else
      %}Воскресенье{%
    endif %}
  {%- endmacro %}
  {% if diff == 0
    %}Сегодня{% 
  elif diff == 1
    %}Завтра{% 
  else 
    %}{{ datetime.fromisoformat(events[0]['start'].get('dateTime', events[0]['start'].get('date'))).strftime('%d.%m') }}{% 
  endif %}, {{ day_name(datetime.fromisoformat(events[0]['start'].get('dateTime', events[0]['start'].get('date'))).strftime('%W') | int) }}
  {% for event in events %}
{{ datetime.fromisoformat(event['start'].get('dateTime', event['start'].get('date'))).strftime('%H:%M') }} {{ event['summary'] }}
  {% endfor %}
{% else %}
No upcoming events found.
{% endif %}
